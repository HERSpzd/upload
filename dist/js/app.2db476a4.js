(function(){"use strict";var e={9312:function(e,a,l){var t=l(5130),r=l(6768);const n={id:"app"};function o(e,a){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(l)])}var s=l(1241);const u={},d=(0,s.A)(u,[["render",o]]);var i=d,c=l(8079),k=(l(4188),l(1387)),m=(l(4114),l(144)),g=l(4232),b=l(782),p=l(7477);const h={key:0,class:"page"},v={class:"menuWrap"},f={class:"uInfo"},F={class:"main"},_={class:"homeWrap"},y={class:"sumCards"},w={class:"cContent"},L={class:"cIcon"},R={class:"cContent"},V={class:"cIcon"},C={class:"cContent"},E={class:"cIcon"},P={class:"cContent"},x={class:"cIcon"},S={class:"qActions"},W={key:1};var A={__name:"HomePage",setup(e){const a=(0,k.rd)(),l=(0,b.Pj)(),t=(0,r.EW)((()=>l.getters.isLoggedIn)),n=(0,r.EW)((()=>l.getters.userInfo)),o=()=>{a.push("/")};return(e,a)=>{const l=(0,r.g2)("el-icon"),s=(0,r.g2)("el-menu-item"),u=(0,r.g2)("el-sub-menu"),d=(0,r.g2)("el-menu"),i=(0,r.g2)("el-avatar"),c=(0,r.g2)("el-aside"),k=(0,r.g2)("el-card"),b=(0,r.g2)("el-button");return t.value?((0,r.uX)(),(0,r.CE)("div",h,[(0,r.bF)(c,{width:"220px",class:"side"},{default:(0,r.k6)((()=>[a[8]||(a[8]=(0,r.Lk)("div",{class:"sTitle"},"Smart Home Elderly Care System",-1)),(0,r.Lk)("div",v,[(0,r.bF)(d,{"default-active":"/home",class:"el-menu-1",router:!0},{default:(0,r.k6)((()=>[(0,r.bF)(s,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.ODD))])),_:1}),a[0]||(a[0]=(0,r.Lk)("span",null,"System Overview",-1))])),_:1}),(0,r.bF)(s,{index:"/health-data"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.VAG))])),_:1}),a[1]||(a[1]=(0,r.Lk)("span",null,"Health Data Overview",-1))])),_:1}),(0,r.bF)(u,{index:"/health-knowledge"},{title:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.f5b))])),_:1}),a[2]||(a[2]=(0,r.Lk)("span",null,"Health Knowledge",-1))])),default:(0,r.k6)((()=>[(0,r.bF)(s,{index:"/health-knowledge/publish"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("Publish")]))),_:1}),(0,r.bF)(s,{index:"/health-knowledge/list"},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)("List")]))),_:1})])),_:1}),(0,r.bF)(s,{index:"/user-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.B5R))])),_:1}),a[5]||(a[5]=(0,r.Lk)("span",null,"User Management",-1))])),_:1}),(0,r.bF)(s,{index:"/diet-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.NoT))])),_:1}),a[6]||(a[6]=(0,r.Lk)("span",null,"Diet Management",-1))])),_:1}),(0,r.bF)(s,{index:"/sport-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.mP9))])),_:1}),a[7]||(a[7]=(0,r.Lk)("span",null,"Sports Management",-1))])),_:1})])),_:1})]),(0,r.Lk)("div",f,[(0,r.bF)(i,{size:40,src:n.value.avatar},null,8,["src"]),(0,r.Lk)("span",null,(0,g.v_)(n.value.username),1)])])),_:1}),(0,r.Lk)("div",F,[a[19]||(a[19]=(0,r.Lk)("div",{class:"pHeader"},[(0,r.Lk)("div",{class:"hTitle"},[(0,r.Lk)("h1",null,"Hello, admin"),(0,r.Lk)("span",{class:"sub-title"},"System core management entrance")])],-1)),(0,r.Lk)("div",_,[(0,r.Lk)("div",y,[(0,r.bF)(k,{class:"sumCard"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",w,[(0,r.Lk)("div",L,[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.KJW))])),_:1})]),a[9]||(a[9]=(0,r.Lk)("div",{class:"cText"},[(0,r.Lk)("div",{class:"cVal"},"135"),(0,r.Lk)("div",{class:"cLabel"},"Number of elderly users")],-1))])])),_:1}),(0,r.bF)(k,{class:"sumCard"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",R,[(0,r.Lk)("div",V,[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.KJW))])),_:1})]),a[10]||(a[10]=(0,r.Lk)("div",{class:"cText"},[(0,r.Lk)("div",{class:"cVal"},"312"),(0,r.Lk)("div",{class:"cLabel"},"Number of social workers")],-1))])])),_:1}),(0,r.bF)(k,{class:"sumCard"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",C,[(0,r.Lk)("div",E,[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.IrQ))])),_:1})]),a[11]||(a[11]=(0,r.Lk)("div",{class:"cText"},[(0,r.Lk)("div",{class:"cVal"},"5"),(0,r.Lk)("div",{class:"cLabel"},"Pending alarm")],-1))])])),_:1}),(0,r.bF)(k,{class:"sumCard"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",P,[(0,r.Lk)("div",x,[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.yoT))])),_:1})]),a[12]||(a[12]=(0,r.Lk)("div",{class:"cText"},[(0,r.Lk)("div",{class:"cVal"},"2"),(0,r.Lk)("div",{class:"cLabel"},"To Do Tasks")],-1))])])),_:1})]),(0,r.bF)(k,{class:"qaCard"},{header:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("span",null,"Quick operation")],-1)]))),default:(0,r.k6)((()=>[(0,r.Lk)("div",S,[(0,r.bF)(b,{type:"primary"},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.eW)("View health data")]))),_:1}),(0,r.bF)(b,{type:"success"},{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.eW)("Publish health knowledge")]))),_:1}),(0,r.bF)(b,{type:"info"},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.eW)("View health information")]))),_:1}),(0,r.bF)(b,{type:"warning"},{default:(0,r.k6)((()=>a[17]||(a[17]=[(0,r.eW)("Overview of Health Data")]))),_:1}),(0,r.bF)(b,{type:"danger"},{default:(0,r.k6)((()=>a[18]||(a[18]=[(0,r.eW)("User Management")]))),_:1})])])),_:1})])])])):((0,r.uX)(),(0,r.CE)("div",W,[a[21]||(a[21]=(0,r.Lk)("h1",null,"Please log in first",-1)),(0,r.bF)(b,{type:"primary",onClick:o},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.eW)("Go login")]))),_:1})]))}}};const I=(0,s.A)(A,[["__scopeId","data-v-73840a80"]]);var D=I,T=l.p+"img/login.5a2cbbe5.png";const U={style:{display:"flex","justify-content":"center","align-items":"center",height:"100vh","background-color":"#f0f2f5"}},K={class:"login-content"},H={style:{display:"flex","justify-content":"space-between","font-size":"12px"}};function X(e,a,l,n,o,s){const u=(0,r.g2)("User"),d=(0,r.g2)("el-icon"),i=(0,r.g2)("el-input"),c=(0,r.g2)("el-form-item"),k=(0,r.g2)("Lock"),m=(0,r.g2)("el-button"),b=(0,r.g2)("el-link"),p=(0,r.g2)("el-form"),h=(0,r.g2)("RegisterForm"),v=(0,r.g2)("ForgotPasswordForm"),f=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",U,[(0,r.bF)(f,{class:"login-card"},{header:(0,r.k6)((()=>a[6]||(a[6]=[(0,r.Lk)("div",{style:{"text-align":"left"}},[(0,r.Lk)("h2",{style:{margin:"0"}},"Welcome, admin"),(0,r.Lk)("p",{style:{color:"#999"}},"Smart Home Elderly Care System")],-1)]))),default:(0,r.k6)((()=>[(0,r.Lk)("div",K,[a[9]||(a[9]=(0,r.Lk)("div",{class:"image-container"},[(0,r.Lk)("img",{src:T,alt:"Logo",class:"logo-image"})],-1)),"login"===e.currentForm?((0,r.uX)(),(0,r.Wv)(p,{key:0,"label-position":"top","label-width":"0",class:"login-form",onSubmit:(0,t.D$)(e.login,["prevent"])},{default:(0,r.k6)((()=>[(0,r.bF)(c,{label:"Account Number"},{default:(0,r.k6)((()=>[(0,r.bF)(i,{modelValue:e.form.username,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.username=a),placeholder:"Please enter your account"},{append:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(u)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(c,{label:"Password"},{default:(0,r.k6)((()=>[(0,r.bF)(i,{modelValue:e.form.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.password=a),type:"password",placeholder:"Please input a password","show-password":""},{append:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(k)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,{type:"primary",style:{width:"100%"},onClick:e.login,loading:e.loading},{default:(0,r.k6)((()=>[(0,r.eW)((0,g.v_)(e.loading?"Logging in":"Log on"),1)])),_:1},8,["onClick","loading"])])),_:1}),(0,r.Lk)("div",H,[(0,r.bF)(b,{type:"primary",underline:!1,onClick:a[2]||(a[2]=a=>e.currentForm="register")},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Free registration")]))),_:1}),(0,r.bF)(b,{type:"primary",underline:!1,onClick:a[3]||(a[3]=a=>e.currentForm="forgotPassword")},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Forgot password")]))),_:1})])])),_:1},8,["onSubmit"])):(0,r.Q3)("",!0),"register"===e.currentForm?((0,r.uX)(),(0,r.Wv)(h,{key:1,class:"login-form",onBackToLogin:a[4]||(a[4]=a=>e.currentForm="login")})):(0,r.Q3)("",!0),"forgotPassword"===e.currentForm?((0,r.uX)(),(0,r.Wv)(v,{key:2,class:"login-form",onBackToLogin:a[5]||(a[5]=a=>e.currentForm="login")})):(0,r.Q3)("",!0)])])),_:1})])}function $(e,a,l,t,n,o){const s=(0,r.g2)("el-input"),u=(0,r.g2)("el-form-item"),d=(0,r.g2)("el-option"),i=(0,r.g2)("el-select"),c=(0,r.g2)("el-button"),k=(0,r.g2)("el-link"),m=(0,r.g2)("el-form");return(0,r.uX)(),(0,r.CE)("div",null,[a[9]||(a[9]=(0,r.Lk)("h3",null,"Register",-1)),(0,r.bF)(m,{"label-position":"top","label-width":"0",model:e.registerForm,ref:"registerFormRef"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{label:"Username",prop:"username"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{modelValue:e.registerForm.username,"onUpdate:modelValue":a[0]||(a[0]=a=>e.registerForm.username=a),placeholder:"Enter your user name"},null,8,["modelValue"])])),_:1}),(0,r.bF)(u,{label:"Email",prop:"email"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{modelValue:e.registerForm.email,"onUpdate:modelValue":a[1]||(a[1]=a=>e.registerForm.email=a),placeholder:"Please enter your email address"},null,8,["modelValue"])])),_:1}),(0,r.bF)(u,{label:"cell-phone number",prop:"phone"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{modelValue:e.registerForm.phone,"onUpdate:modelValue":a[2]||(a[2]=a=>e.registerForm.phone=a),placeholder:"Please enter your phone number"},null,8,["modelValue"])])),_:1}),(0,r.bF)(u,{label:"Role",prop:"user_type"},{default:(0,r.k6)((()=>[(0,r.bF)(i,{modelValue:e.registerForm.user_type,"onUpdate:modelValue":a[3]||(a[3]=a=>e.registerForm.user_type=a),placeholder:"Please select a role"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{label:"Elderly",value:"elderly"}),(0,r.bF)(d,{label:"Social Worker",value:"social_worker"}),(0,r.bF)(d,{label:"Admin",value:"admin"})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(u,{label:"Password",prop:"password"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{type:"password",modelValue:e.registerForm.password,"onUpdate:modelValue":a[4]||(a[4]=a=>e.registerForm.password=a),placeholder:"Please input a password"},null,8,["modelValue"])])),_:1}),(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,{type:"primary",style:{width:"100%"},onClick:a[5]||(a[5]=a=>e.submitForm())},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Register")]))),_:1})])),_:1}),(0,r.bF)(k,{type:"primary",underline:!1,onClick:a[6]||(a[6]=a=>e.emit("back-to-login"))},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Return to login")]))),_:1})])),_:1},8,["model"])])}var O=l(4373),M=l(2006),B=l(9623),N=l(3938),q=l(2557),z=l(1219),j=(0,r.pM)({name:"RegisterForm",components:{ElForm:M.US,ElFormItem:M.xE,ElInput:B.WK,ElButton:N.S2,ElLink:q.C4},emits:["back-to-login"],setup(e,{emit:a}){const l=(0,m.Kh)({username:"",password:"",email:"",phone:""}),t=async()=>{try{const e=await O.A.post("http://localhost:3060/api/homecare/register",l);console.log(e.data),(0,z.nk)({message:"Registered successfully",type:"success"}),a("back-to-login")}catch(e){console.error("Registration failed:",e),z.nk.error(e.response?.data?.message||"Registration failed, please try again")}};return{registerForm:l,submitForm:t,emit:a}}});const G=(0,s.A)(j,[["render",$]]);var Q=G;function J(e,a,l,t,n,o){const s=(0,r.g2)("el-input"),u=(0,r.g2)("el-form-item"),d=(0,r.g2)("el-button"),i=(0,r.g2)("el-link"),c=(0,r.g2)("el-form");return(0,r.uX)(),(0,r.CE)("div",null,[a[3]||(a[3]=(0,r.Lk)("h3",null,"忘记密码",-1)),(0,r.bF)(c,{"label-position":"top","label-width":"0"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{label:"邮箱"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{placeholder:"请输入注册邮箱"})])),_:1}),(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{type:"primary",style:{width:"100%"}},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("重置密码")]))),_:1})])),_:1}),(0,r.bF)(i,{type:"primary",underline:!1,onClick:a[0]||(a[0]=a=>e.emit("back-to-login"))},{default:(0,r.k6)((()=>a[2]||(a[2]=[(0,r.eW)("返回登录")]))),_:1})])),_:1})])}var Y=(0,r.pM)({name:"ForgotPasswordForm",emits:["back-to-login"],setup(e,{emit:a}){return{emit:a}}});const Z=(0,s.A)(Y,[["render",J]]);var ee=Z,ae=(0,r.pM)({components:{User:p.KJW,Lock:p.c_I,RegisterForm:Q,ForgotPasswordForm:ee},setup(){const e=(0,m.Kh)({username:"",password:""}),a=(0,m.KR)("login"),l=(0,k.rd)(),t=(0,b.Pj)(),r=(0,m.KR)(!1),n=async()=>{r.value=!0;try{const a=await O.A.post("http://47.250.182.201:3060/api/homecare/login",{username:e.username,password:e.password}),{token:r,user:n}=a.data;if("admin"!==n.role)return void z.nk.error("Only administrators can log in");t.dispatch("login",{userInfo:n,token:r}),l.push("/home"),z.nk.success("Login succeeded")}catch(a){console.error("Login failed:",a);let e="Login failed, please try again later";a.response&&a.response.data&&a.response.data.message&&(e=a.response.data.message),z.nk.error(e)}finally{r.value=!1}};return{form:e,currentForm:a,login:n,loading:r}}});const le=(0,s.A)(ae,[["render",X],["__scopeId","data-v-53c69217"]]);var te=le;l(8111),l(1701);const re={key:0,class:"page"},ne={class:"menuWrap"},oe={class:"uInfo"},se={class:"main"},ue={key:0},de={key:2},ie={class:"card-header"},ce=["onClick"],ke={class:"card-footer"},me={class:"actions"},ge={key:1};var be={__name:"HealthKnowledgePage",setup(e){const a=(0,k.rd)(),l=(0,b.Pj)(),n=(0,r.EW)((()=>l.getters.isLoggedIn)),o=(0,r.EW)((()=>l.getters.userInfo)),s=()=>{a.push("/")},u=(0,m.KR)("http://localhost:3060/api/homecare/health-knowledge"),d=(0,m.KR)([]),i=(0,m.KR)(!0),c=(0,m.KR)(!1),h=async()=>{i.value=!0,c.value=!1;try{const e=localStorage.getItem("token"),a=await fetch(u.value,{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)throw console.error("API response error:",a.status,a.statusText),new Error(`API request failed, status code:${a.status}`);const l=await a.json();l.success?d.value=l.data.sort(((e,a)=>new Date(a.publish_time)-new Date(e.publish_time))).map((e=>({...e,id:e.health_knowledge_id,contentSnippet:e.content.substring(0,50),formattedTime:new Date(e.publish_time).toLocaleDateString()+" "+new Date(e.publish_time).toLocaleTimeString()}))):(console.error("API returned error:",l.message),z.nk.error(l.message||"Failed to acquire health knowledge"),c.value=!0)}catch(e){console.error("API request error:",e),z.nk.error("Network error, please try again later"),c.value=!0}finally{i.value=!1}},v=e=>{a.push({path:`/health-knowledge-detail/${e}`})},f=async e=>{try{const l=localStorage.getItem("token"),t=await fetch(`http://localhost:3060/api/homecare/health-knowledge-delete/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!t.ok){console.error("Delete failed:",t.status,t.statusText);try{const e=await t.json();z.nk.error(`Delete failed:${e.message||"unknown error"} (status:${t.status})`)}catch(a){z.nk.error(`Delete failed (Status:${t.status})`)}return}const r=await t.json();r.success?(z.nk.success("Delete successfully"),h()):z.nk.error(r.message||"Delete failed")}catch(l){console.error("An error occurred while deleting:",l),z.nk.error("A network error occurred while deleting, please try again later")}},F=e=>{a.push({path:`/health-knowledge-edit/${e}`})};return(0,r.sV)((()=>{h()})),(e,a)=>{const l=(0,r.g2)("el-icon"),u=(0,r.g2)("el-menu-item"),k=(0,r.g2)("el-sub-menu"),b=(0,r.g2)("el-menu"),h=(0,r.g2)("el-avatar"),_=(0,r.g2)("el-aside"),y=(0,r.g2)("el-skeleton"),w=(0,r.g2)("el-card"),L=(0,r.g2)("el-tag"),R=(0,r.g2)("el-button"),V=(0,r.g2)("el-list-item"),C=(0,r.g2)("el-list");return n.value?((0,r.uX)(),(0,r.CE)("div",re,[(0,r.bF)(_,{width:"220px",class:"side"},{default:(0,r.k6)((()=>[a[8]||(a[8]=(0,r.Lk)("div",{class:"sTitle"},"Smart Home Elderly Care System",-1)),(0,r.Lk)("div",ne,[(0,r.bF)(b,{"default-active":"/health-knowledge/list",class:"el-menu-1",router:!0},{default:(0,r.k6)((()=>[(0,r.bF)(u,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.ODD))])),_:1}),a[0]||(a[0]=(0,r.Lk)("span",null,"System Overview",-1))])),_:1}),(0,r.bF)(u,{index:"/health-data"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.VAG))])),_:1}),a[1]||(a[1]=(0,r.Lk)("span",null,"Health Data Overview",-1))])),_:1}),(0,r.bF)(k,{index:"/health-knowledge"},{title:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.f5b))])),_:1}),a[2]||(a[2]=(0,r.Lk)("span",null,"Health Knowledge",-1))])),default:(0,r.k6)((()=>[(0,r.bF)(u,{index:"/health-knowledge/publish"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("Publish")]))),_:1}),(0,r.bF)(u,{index:"/health-knowledge/list"},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)("List")]))),_:1})])),_:1}),(0,r.bF)(u,{index:"/user-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.B5R))])),_:1}),a[5]||(a[5]=(0,r.Lk)("span",null,"User Management",-1))])),_:1}),(0,r.bF)(u,{index:"/diet-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.NoT))])),_:1}),a[6]||(a[6]=(0,r.Lk)("span",null,"Diet Management",-1))])),_:1}),(0,r.bF)(u,{index:"/sport-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.mP9))])),_:1}),a[7]||(a[7]=(0,r.Lk)("span",null,"Sports Management",-1))])),_:1})])),_:1})]),(0,r.Lk)("div",oe,[(0,r.bF)(h,{size:40,src:o.value.avatar},null,8,["src"]),(0,r.Lk)("span",null,(0,g.v_)(o.value.username),1)])])),_:1}),(0,r.Lk)("div",se,[a[12]||(a[12]=(0,r.Lk)("div",{class:"pHeader"},[(0,r.Lk)("div",{class:"hTitle"},[(0,r.Lk)("h1",null,"Health knowledge"),(0,r.Lk)("span",{class:"sub-title"},"Get the latest health information")])],-1)),(0,r.bF)(w,{class:"health-knowledge-card"},{default:(0,r.k6)((()=>[i.value?((0,r.uX)(),(0,r.CE)("div",ue,[(0,r.bF)(y,{rows:5,animated:""})])):c.value?((0,r.uX)(),(0,r.Wv)(w,{key:1,class:"error-message"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)(" Failed to load health knowledge, please try again later. ")]))),_:1})):((0,r.uX)(),(0,r.CE)("div",de,[(0,r.bF)(C,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.value,(e=>((0,r.uX)(),(0,r.Wv)(V,{key:e.id},{default:(0,r.k6)((()=>[(0,r.bF)(w,{shadow:"hover"},{header:(0,r.k6)((()=>[(0,r.Lk)("div",ie,[(0,r.Lk)("span",null,(0,g.v_)(e.title),1),(0,r.bF)(L,{size:"small"},{default:(0,r.k6)((()=>[(0,r.eW)((0,g.v_)(e.category),1)])),_:2},1024)])])),default:(0,r.k6)((()=>[(0,r.Lk)("div",{class:"content",onClick:a=>v(e.id),style:{cursor:"pointer"}},(0,g.v_)(e.contentSnippet)+"... ",9,ce),(0,r.Lk)("div",ke,[(0,r.Lk)("span",null,"Release time:"+(0,g.v_)(e.formattedTime),1),(0,r.Lk)("div",me,[(0,r.bF)(R,{type:"danger",size:"small",onClick:(0,t.D$)((a=>f(e.id)),["stop"])},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Delete")]))),_:2},1032,["onClick"]),(0,r.bF)(R,{type:"primary",size:"small",onClick:(0,t.D$)((a=>F(e.id)),["stop"])},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)("Edit")]))),_:2},1032,["onClick"])])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})]))])),_:1})])])):((0,r.uX)(),(0,r.CE)("div",ge,[a[14]||(a[14]=(0,r.Lk)("h1",null,"Please log in first",-1)),(0,r.bF)(R,{type:"primary",onClick:s},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Go login")]))),_:1})]))}}};const pe=(0,s.A)(be,[["__scopeId","data-v-14f1b39f"]]);var he=pe;const ve={key:0,class:"page"},fe={class:"menuWrap"},Fe={class:"uInfo"},_e={class:"main"},ye={key:0},we={key:2},Le={class:"knowledge-info"},Re={class:"author"},Ve={class:"publish-time"},Ce=["innerHTML"],Ee={key:1};var Pe={__name:"HealthKnowledgeDetail",setup(e){const a=(0,k.rd)(),l=(0,k.lq)(),t=(0,b.Pj)(),n=(0,r.EW)((()=>t.getters.isLoggedIn)),o=(0,r.EW)((()=>t.getters.userInfo)),s=()=>{a.push("/")},u=(0,m.KR)("http://localhost:3060/api/homecare/health-knowledge"),d=(0,m.KR)(null),i=(0,m.KR)(!0),c=(0,m.KR)(!1),h=(0,m.KR)(""),v=async e=>{i.value=!0,c.value=!1;try{const a=localStorage.getItem("token"),l=await fetch(`${u.value}/${e}`,{headers:{Authorization:`Bearer ${a}`}});if(!l.ok)throw console.error("API response error: ",l.status,l.statusText),new Error(`API request failed, status code: ${l.status}`);const t=await l.json();t.success?(d.value={...t.data,formattedTime:new Date(t.data.publish_time).toLocaleDateString()+" "+new Date(t.data.publish_time).toLocaleTimeString()},h.value=d.value.content.replace(/\n/g,"<br>")):(console.error("API returned error:",t.message),z.nk.error(t.message||"Failed to obtain health knowledge details"),c.value=!0)}catch(a){console.error("API request error:",a),z.nk.error("Network error, please try again later"),c.value=!0}finally{i.value=!1}};return(0,r.sV)((()=>{const e=l.params.health_knowledge_id;e?v(e):(z.nk.error("Lack of Health Knowledge ID"),c.value=!0,i.value=!1)})),(e,a)=>{const l=(0,r.g2)("el-icon"),t=(0,r.g2)("el-menu-item"),u=(0,r.g2)("el-sub-menu"),k=(0,r.g2)("el-menu"),b=(0,r.g2)("el-avatar"),v=(0,r.g2)("el-aside"),f=(0,r.g2)("el-skeleton"),F=(0,r.g2)("el-card"),_=(0,r.g2)("el-tag"),y=(0,r.g2)("el-button");return n.value?((0,r.uX)(),(0,r.CE)("div",ve,[(0,r.bF)(v,{width:"220px",class:"side"},{default:(0,r.k6)((()=>[a[8]||(a[8]=(0,r.Lk)("div",{class:"sTitle"},"Smart Home Elderly Care System",-1)),(0,r.Lk)("div",fe,[(0,r.bF)(k,{"default-active":"/health-knowledge/list",class:"el-menu-1",router:!0},{default:(0,r.k6)((()=>[(0,r.bF)(t,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.ODD))])),_:1}),a[0]||(a[0]=(0,r.Lk)("span",null,"System Overview",-1))])),_:1}),(0,r.bF)(t,{index:"/health-data"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.VAG))])),_:1}),a[1]||(a[1]=(0,r.Lk)("span",null,"Health Data Overview",-1))])),_:1}),(0,r.bF)(u,{index:"/health-knowledge"},{title:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.f5b))])),_:1}),a[2]||(a[2]=(0,r.Lk)("span",null,"Health Knowledge",-1))])),default:(0,r.k6)((()=>[(0,r.bF)(t,{index:"/health-knowledge/publish"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("Publish")]))),_:1}),(0,r.bF)(t,{index:"/health-knowledge/list"},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)("List")]))),_:1})])),_:1}),(0,r.bF)(t,{index:"/user-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.B5R))])),_:1}),a[5]||(a[5]=(0,r.Lk)("span",null,"User Management",-1))])),_:1}),(0,r.bF)(t,{index:"/diet-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.NoT))])),_:1}),a[6]||(a[6]=(0,r.Lk)("span",null,"Diet Management",-1))])),_:1}),(0,r.bF)(t,{index:"/sport-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.mP9))])),_:1}),a[7]||(a[7]=(0,r.Lk)("span",null,"Sports Management",-1))])),_:1})])),_:1})]),(0,r.Lk)("div",Fe,[(0,r.bF)(b,{size:40,src:o.value.avatar},null,8,["src"]),(0,r.Lk)("span",null,(0,g.v_)(o.value.username),1)])])),_:1}),(0,r.Lk)("div",_e,[a[12]||(a[12]=(0,r.Lk)("div",{class:"pHeader"},[(0,r.Lk)("div",{class:"hTitle"},[(0,r.Lk)("h1",null,"Health Knowledge Details"),(0,r.Lk)("span",{class:"sub-title"},"View complete health information")])],-1)),(0,r.bF)(F,{class:"health-knowledge-card"},{default:(0,r.k6)((()=>[i.value?((0,r.uX)(),(0,r.CE)("div",ye,[(0,r.bF)(f,{rows:10,animated:""})])):c.value?((0,r.uX)(),(0,r.Wv)(F,{key:1,class:"error-message"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)(" Failed to load health knowledge details, please try again later. ")]))),_:1})):((0,r.uX)(),(0,r.CE)("div",we,[(0,r.Lk)("h2",null,(0,g.v_)(d.value.title),1),a[11]||(a[11]=(0,r.Lk)("hr",{class:"gray-hr"},null,-1)),(0,r.Lk)("div",Le,[a[10]||(a[10]=(0,r.Lk)("span",null,"Label: ",-1)),(0,r.bF)(_,{size:"small"},{default:(0,r.k6)((()=>[(0,r.eW)((0,g.v_)(d.value.category),1)])),_:1}),(0,r.Lk)("span",Re,"Author: "+(0,g.v_)(d.value.author),1),(0,r.Lk)("span",Ve,"Release time: "+(0,g.v_)(d.value.formattedTime),1)]),(0,r.Lk)("div",{innerHTML:h.value},null,8,Ce)]))])),_:1})])])):((0,r.uX)(),(0,r.CE)("div",Ee,[a[14]||(a[14]=(0,r.Lk)("h1",null,"Please log in first",-1)),(0,r.bF)(y,{type:"primary",onClick:s},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Go login")]))),_:1})]))}}};const xe=(0,s.A)(Pe,[["__scopeId","data-v-0c22d9d8"]]);var Se=xe;const We={key:0,class:"page"},Ae={class:"menuWrap"},Ie={class:"uInfo"},De={class:"main"},Te={key:1};var Ue={__name:"HealthKnowledgePublish",setup(e){const a=(0,k.rd)(),l=(0,b.Pj)(),t=(0,r.EW)((()=>l.getters.isLoggedIn)),n=(0,r.EW)((()=>l.getters.userInfo)),o=()=>{a.push("/")},s=(0,m.KR)(null),u=(0,m.KR)({title:"",content:"",category:"",author:"",image_url:"",video_url:"",user_id:n.value?n.value.id:null}),d=(0,m.KR)({title:[{required:!0,message:"Please enter a title",trigger:"blur"}],content:[{required:!0,message:"Please enter the content",trigger:"blur"}],category:[{required:!0,message:"Please choose a category",trigger:"change"}],author:[{required:!0,message:"Please enter the author",trigger:"blur"}]}),i=async()=>{s.value.validate((async e=>{if(!e)return console.log("Submission error!"),!1;try{const e=localStorage.getItem("token"),l=await fetch("http://localhost:3060/api/homecare/health-knowledge-publish",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(u.value)});if(l.ok)z.nk.success("Published successfully!"),c(),a.push("/health-knowledge/list");else{const e=await l.json();z.nk.error(e.message||"Publishing failed, please try again")}}catch(l){console.error("Publication failed:",l),z.nk.error("Network error, please try again later")}}))},c=()=>{s.value.resetFields(),u.value={title:"",content:"",category:"",author:"",image_url:"",video_url:"",user_id:n.value?n.value.id:null}};return(e,a)=>{const l=(0,r.g2)("el-icon"),k=(0,r.g2)("el-menu-item"),b=(0,r.g2)("el-sub-menu"),h=(0,r.g2)("el-menu"),v=(0,r.g2)("el-avatar"),f=(0,r.g2)("el-aside"),F=(0,r.g2)("el-input"),_=(0,r.g2)("el-form-item"),y=(0,r.g2)("el-button"),w=(0,r.g2)("el-form"),L=(0,r.g2)("el-card");return t.value?((0,r.uX)(),(0,r.CE)("div",We,[(0,r.bF)(f,{width:"220px",class:"side"},{default:(0,r.k6)((()=>[a[16]||(a[16]=(0,r.Lk)("div",{class:"sTitle"},"Smart Home Elderly Care System",-1)),(0,r.Lk)("div",Ae,[(0,r.bF)(h,{"default-active":"/health-knowledge/publish",class:"el-menu-1",router:!0},{default:(0,r.k6)((()=>[(0,r.bF)(k,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.ODD))])),_:1}),a[8]||(a[8]=(0,r.Lk)("span",null,"System Overview",-1))])),_:1}),(0,r.bF)(k,{index:"/health-data"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.VAG))])),_:1}),a[9]||(a[9]=(0,r.Lk)("span",null,"Health Data Overview",-1))])),_:1}),(0,r.bF)(b,{index:"/health-knowledge"},{title:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.f5b))])),_:1}),a[10]||(a[10]=(0,r.Lk)("span",null,"Health Knowledge",-1))])),default:(0,r.k6)((()=>[(0,r.bF)(k,{index:"/health-knowledge/publish"},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)("Publish")]))),_:1}),(0,r.bF)(k,{index:"/health-knowledge/list"},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.eW)("List")]))),_:1})])),_:1}),(0,r.bF)(k,{index:"/user-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.B5R))])),_:1}),a[13]||(a[13]=(0,r.Lk)("span",null,"User Management",-1))])),_:1}),(0,r.bF)(k,{index:"/diet-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.NoT))])),_:1}),a[14]||(a[14]=(0,r.Lk)("span",null,"Diet Management",-1))])),_:1}),(0,r.bF)(k,{index:"/sport-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.mP9))])),_:1}),a[15]||(a[15]=(0,r.Lk)("span",null,"Sports Management",-1))])),_:1})])),_:1})]),(0,r.Lk)("div",Ie,[(0,r.bF)(v,{size:40,src:n.value.avatar},null,8,["src"]),(0,r.Lk)("span",null,(0,g.v_)(n.value.username),1)])])),_:1}),(0,r.Lk)("div",De,[a[19]||(a[19]=(0,r.Lk)("div",{class:"pHeader"},[(0,r.Lk)("div",{class:"hTitle"},[(0,r.Lk)("h1",null,"Publish health knowledge"),(0,r.Lk)("span",{class:"sub-title"},"Publish the latest health news")])],-1)),(0,r.bF)(L,{class:"hkCard"},{default:(0,r.k6)((()=>[(0,r.bF)(w,{ref_key:"publishForm",ref:s,model:u.value,rules:d.value,"label-width":"120px"},{default:(0,r.k6)((()=>[(0,r.bF)(_,{label:"Title",prop:"itle"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{modelValue:u.value.title,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value.title=e),placeholder:"Please enter a title"},null,8,["modelValue"])])),_:1}),(0,r.bF)(_,{label:"Content",prop:"content"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{modelValue:u.value.content,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value.content=e),type:"textarea",rows:10,placeholder:"Please enter the content"},null,8,["modelValue"])])),_:1}),(0,r.bF)(_,{label:"Category",prop:"category"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{modelValue:u.value.category,"onUpdate:modelValue":a[2]||(a[2]=e=>u.value.category=e),placeholder:"Please enter category"},null,8,["modelValue"])])),_:1}),(0,r.bF)(_,{label:"Author",prop:"author"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{modelValue:u.value.author,"onUpdate:modelValue":a[3]||(a[3]=e=>u.value.author=e),placeholder:"Please enter the author"},null,8,["modelValue"])])),_:1}),(0,r.bF)(_,{label:"Image URL",prop:"image_url"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{modelValue:u.value.image_url,"onUpdate:modelValue":a[4]||(a[4]=e=>u.value.image_url=e),placeholder:"Please enter the image URL"},null,8,["modelValue"])])),_:1}),(0,r.bF)(_,{label:"Video URL",prop:"video_url"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{modelValue:u.value.video_url,"onUpdate:modelValue":a[5]||(a[5]=e=>u.value.video_url=e),placeholder:"Please enter the video URL"},null,8,["modelValue"])])),_:1}),(0,r.bF)(_,null,{default:(0,r.k6)((()=>[(0,r.bF)(y,{type:"primary",onClick:a[6]||(a[6]=e=>i())},{default:(0,r.k6)((()=>a[17]||(a[17]=[(0,r.eW)("Release")]))),_:1}),(0,r.bF)(y,{onClick:a[7]||(a[7]=e=>c())},{default:(0,r.k6)((()=>a[18]||(a[18]=[(0,r.eW)("Reset")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])])):((0,r.uX)(),(0,r.CE)("div",Te,[a[21]||(a[21]=(0,r.Lk)("h1",null,"Please log in first",-1)),(0,r.bF)(y,{type:"primary",onClick:o},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.eW)("Go login")]))),_:1})]))}}};const Ke=(0,s.A)(Ue,[["__scopeId","data-v-1a13b84c"]]);var He=Ke;const Xe={key:0,class:"page"},$e={class:"menuWrap"},Oe={class:"uInfo"},Me={class:"main"},Be={key:0},Ne={key:1,class:"error-message"},qe={key:1};var ze={__name:"HealthKnowledgeEdit",setup(e){const a=(0,k.rd)(),l=(0,k.lq)(),t=(0,b.Pj)(),n=(0,r.EW)((()=>t.getters.isLoggedIn)),o=(0,r.EW)((()=>t.getters.userInfo)),s=(0,m.KR)(null),u=(0,m.KR)({title:"",content:"",category:"",author:"",image_url:null,video_url:null}),d=(0,m.KR)({title:[{required:!0,message:"Please enter the title",trigger:"blur"}],content:[{required:!0,message:"Please enter the content",trigger:"blur"}],category:[{required:!0,message:"Please select the category",trigger:"change"}],author:[{required:!0,message:"Please enter the author",trigger:"blur"}],image_url:[],video_url:[]}),i=(0,m.KR)(!0),c=(0,m.KR)(!1),h=(0,r.EW)((()=>{const e=l.path.split("/");return e[e.length-1]})),v=()=>{a.push("/")},f=async()=>{i.value=!0,c.value=!1;try{const e=localStorage.getItem("token"),a=await fetch(`http://localhost:3060/api/homecare/health-knowledge/${h.value}`,{headers:{Authorization:`Bearer ${e}`}});if(a.ok){const e=await a.json();e.success?u.value={...e.data}:(z.nk.error(e.message||"Failed to load health knowledge"),c.value=!0)}else console.error("API Response Error:",a.status,a.statusText),z.nk.error("Failed to load health knowledge"),c.value=!0}catch(e){console.error("API Request Error:",e),z.nk.error("Network error, please try again later"),c.value=!0}finally{i.value=!1}},F=async()=>{s.value.validate((async e=>{if(!e)return console.log("Validation error!"),!1;try{const e=localStorage.getItem("token"),l=await fetch(`http://localhost:3060/api/homecare/health-knowledge-update/${h.value}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(u.value)});if(l.ok)z.nk.success("Update successful!"),a.push("/health-knowledge/list");else{const e=await l.json();z.nk.error(e.message||"Update failed, please try again")}}catch(l){console.error("Update Error:",l),z.nk.error("Network error, please try again later")}}))},_=()=>{a.push("/health-knowledge/list")};return(0,r.sV)((()=>{f()})),(e,a)=>{const l=(0,r.g2)("el-icon"),t=(0,r.g2)("el-menu-item"),k=(0,r.g2)("el-sub-menu"),b=(0,r.g2)("el-menu"),h=(0,r.g2)("el-avatar"),f=(0,r.g2)("el-aside"),y=(0,r.g2)("el-skeleton"),w=(0,r.g2)("el-input"),L=(0,r.g2)("el-form-item"),R=(0,r.g2)("el-button"),V=(0,r.g2)("el-form"),C=(0,r.g2)("el-card");return n.value?((0,r.uX)(),(0,r.CE)("div",Xe,[(0,r.bF)(f,{width:"220px",class:"side"},{default:(0,r.k6)((()=>[a[14]||(a[14]=(0,r.Lk)("div",{class:"sTitle"},"Smart Home Elderly Care System",-1)),(0,r.Lk)("div",$e,[(0,r.bF)(b,{"default-active":"/health-knowledge/list",class:"el-menu-1",router:!0},{default:(0,r.k6)((()=>[(0,r.bF)(t,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.ODD))])),_:1}),a[6]||(a[6]=(0,r.Lk)("span",null,"System Overview",-1))])),_:1}),(0,r.bF)(t,{index:"/health-data"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.VAG))])),_:1}),a[7]||(a[7]=(0,r.Lk)("span",null,"Health Data Overview",-1))])),_:1}),(0,r.bF)(k,{index:"/health-knowledge"},{title:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.f5b))])),_:1}),a[8]||(a[8]=(0,r.Lk)("span",null,"Health Knowledge",-1))])),default:(0,r.k6)((()=>[(0,r.bF)(t,{index:"/health-knowledge/publish"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Publish")]))),_:1}),(0,r.bF)(t,{index:"/health-knowledge/list"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("List")]))),_:1})])),_:1}),(0,r.bF)(t,{index:"/user-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.B5R))])),_:1}),a[11]||(a[11]=(0,r.Lk)("span",null,"User Management",-1))])),_:1}),(0,r.bF)(t,{index:"/diet-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.NoT))])),_:1}),a[12]||(a[12]=(0,r.Lk)("span",null,"Diet Management",-1))])),_:1}),(0,r.bF)(t,{index:"/sport-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.mP9))])),_:1}),a[13]||(a[13]=(0,r.Lk)("span",null,"Sports Management",-1))])),_:1})])),_:1})]),(0,r.Lk)("div",Oe,[(0,r.bF)(h,{size:40,src:o.value.avatar},null,8,["src"]),(0,r.Lk)("span",null,(0,g.v_)(o.value.username),1)])])),_:1}),(0,r.Lk)("div",Me,[a[17]||(a[17]=(0,r.Lk)("div",{class:"pHeader"},[(0,r.Lk)("div",{class:"hTitle"},[(0,r.Lk)("h1",null,"Edit Health Knowledge"),(0,r.Lk)("span",{class:"sub-title"},"Modify existing health information")])],-1)),(0,r.bF)(C,{class:"health-knowledge-card"},{default:(0,r.k6)((()=>[i.value?((0,r.uX)(),(0,r.CE)("div",Be,[(0,r.bF)(y,{rows:5,animated:""})])):c.value?((0,r.uX)(),(0,r.CE)("div",Ne," Failed to load health knowledge. Please try again later. ")):((0,r.uX)(),(0,r.Wv)(V,{key:2,ref_key:"editForm",ref:s,model:u.value,rules:d.value,"label-width":"120px"},{default:(0,r.k6)((()=>[(0,r.bF)(L,{label:"Title",prop:"title"},{default:(0,r.k6)((()=>[(0,r.bF)(w,{modelValue:u.value.title,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value.title=e),placeholder:"Enter title"},null,8,["modelValue"])])),_:1}),(0,r.bF)(L,{label:"Content",prop:"content"},{default:(0,r.k6)((()=>[(0,r.bF)(w,{modelValue:u.value.content,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value.content=e),type:"textarea",rows:10,placeholder:"Enter content"},null,8,["modelValue"])])),_:1}),(0,r.bF)(L,{label:"Category",prop:"category"},{default:(0,r.k6)((()=>[(0,r.bF)(w,{modelValue:u.value.category,"onUpdate:modelValue":a[2]||(a[2]=e=>u.value.category=e),placeholder:"Enter category"},null,8,["modelValue"])])),_:1}),(0,r.bF)(L,{label:"Author",prop:"author"},{default:(0,r.k6)((()=>[(0,r.bF)(w,{modelValue:u.value.author,"onUpdate:modelValue":a[3]||(a[3]=e=>u.value.author=e),placeholder:"Enter author"},null,8,["modelValue"])])),_:1}),(0,r.bF)(L,{label:"Image URL"},{default:(0,r.k6)((()=>[(0,r.bF)(w,{modelValue:u.value.image_url,"onUpdate:modelValue":a[4]||(a[4]=e=>u.value.image_url=e),placeholder:"Enter image URL"},null,8,["modelValue"])])),_:1}),(0,r.bF)(L,{label:"Video URL"},{default:(0,r.k6)((()=>[(0,r.bF)(w,{modelValue:u.value.video_url,"onUpdate:modelValue":a[5]||(a[5]=e=>u.value.video_url=e),placeholder:"Enter video URL"},null,8,["modelValue"])])),_:1}),(0,r.bF)(L,null,{default:(0,r.k6)((()=>[(0,r.bF)(R,{type:"primary",onClick:F},{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.eW)("Save")]))),_:1}),(0,r.bF)(R,{onClick:_},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.eW)("Cancel")]))),_:1})])),_:1})])),_:1},8,["model","rules"]))])),_:1})])])):((0,r.uX)(),(0,r.CE)("div",qe,[a[19]||(a[19]=(0,r.Lk)("h1",null,"Please Login",-1)),(0,r.bF)(R,{type:"primary",onClick:v},{default:(0,r.k6)((()=>a[18]||(a[18]=[(0,r.eW)("Go to Login")]))),_:1})]))}}};const je=(0,s.A)(ze,[["__scopeId","data-v-9d151402"]]);var Ge=je;const Qe={key:0,class:"page"},Je={class:"menuWrap"},Ye={class:"uInfo"},Ze={class:"main"},ea={class:"card-header"},aa={key:0},la={key:2},ta={class:"dialog-footer"},ra={key:1};var na={__name:"UsersManagementPage",setup(e){const a=(0,k.rd)(),l=(0,b.Pj)(),t=(0,r.EW)((()=>l.getters.isLoggedIn)),n=(0,r.EW)((()=>l.getters.userInfo)),o=()=>{a.push("/")},s=(0,m.KR)("http://localhost:3060/api/homecare/users"),u=(0,m.KR)("http://localhost:3060/api/homecare/users"),d=(0,m.KR)([]),i=(0,m.KR)(!0),c=(0,m.KR)(!1),h=(0,m.KR)(!1),v=(0,m.KR)(""),f=(0,m.KR)({username:"",email:"",phone:"",user_type:"",first_name:"",last_name:"",date_of_birth:"",gender:"",address:"",city:"",state:"",zip_code:"",emergency_contact_name:"",emergency_contact_phone:"",allergies:""}),F=(0,m.KR)(null),_=async()=>{i.value=!0,c.value=!1;try{const e=localStorage.getItem("token"),a=await fetch(s.value,{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)throw console.error("API response error:",a.status,a.statusText),new Error(`API request failed, status code:${a.status}`);const l=await a.json();l.success?d.value=l.data:(console.error("API returned error:",l.message),z.nk.error(l.message||"Failed to retrieve user list"),c.value=!0)}catch(e){console.error("API request error:",e),z.nk.error("Network error, please try again later"),c.value=!0}finally{i.value=!1}},y=e=>{v.value="Edit user",F.value=e.id,f.value={...e},h.value=!0},w=async()=>{try{const e=localStorage.getItem("token");let a=s.value,l="POST";F.value&&(a=`${s.value}/${F.value}`,l="PUT");const t=await fetch(a,{method:l,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(f.value)});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();r.success?(z.nk.success({message:"Save user successfully",duration:3e3}),h.value=!1,_()):z.nk.error({message:`Failed to save user:${r.message}`,duration:5e3})}catch(c){console.error("An error occurred while saving the user:",c),z.nk.error({message:`An error occurred while saving the user: ${c.message}`,duration:5e3})}},L=async e=>{try{const l=localStorage.getItem("token"),t=await fetch(`${u.value}/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}});if(!t.ok){console.error("Delete failed:",t.status,t.statusText);try{const e=await t.json();z.nk.error(`Delete failed:${e.message||"unknown error"} (status:${t.status})`)}catch(a){z.nk.error(`Delete failed (status:${t.status})`)}return}const r=await t.json();r.success?(z.nk.success("Delete successfully"),_()):z.nk.error(r.message||"Delete failed")}catch(l){console.error("An error occurred while deleting:",l),z.nk.error("A network error occurred while deleting, please try again later")}};(0,r.sV)((()=>{_()}));const R=e=>e?e.substring(0,10):"";return(e,a)=>{const l=(0,r.g2)("el-icon"),s=(0,r.g2)("el-menu-item"),u=(0,r.g2)("el-sub-menu"),k=(0,r.g2)("el-menu"),b=(0,r.g2)("el-avatar"),F=(0,r.g2)("el-aside"),_=(0,r.g2)("el-link"),V=(0,r.g2)("el-skeleton"),C=(0,r.g2)("el-card"),E=(0,r.g2)("el-table-column"),P=(0,r.g2)("el-button"),x=(0,r.g2)("el-table"),S=(0,r.g2)("el-input"),W=(0,r.g2)("el-form-item"),A=(0,r.g2)("el-option"),I=(0,r.g2)("el-select"),D=(0,r.g2)("el-date-picker"),T=(0,r.g2)("el-radio"),U=(0,r.g2)("el-radio-group"),K=(0,r.g2)("el-form"),H=(0,r.g2)("el-dialog");return t.value?((0,r.uX)(),(0,r.CE)("div",Qe,[(0,r.bF)(F,{width:"220px",class:"side"},{default:(0,r.k6)((()=>[a[25]||(a[25]=(0,r.Lk)("div",{class:"sTitle"},"Smart Home Elderly Care System",-1)),(0,r.Lk)("div",Je,[(0,r.bF)(k,{"default-active":"/user-management",class:"el-menu-1",router:!0},{default:(0,r.k6)((()=>[(0,r.bF)(s,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.ODD))])),_:1}),a[17]||(a[17]=(0,r.Lk)("span",null,"System Overview",-1))])),_:1}),(0,r.bF)(s,{index:"/health-data"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.VAG))])),_:1}),a[18]||(a[18]=(0,r.Lk)("span",null,"Health Data Overview",-1))])),_:1}),(0,r.bF)(u,{index:"/health-knowledge"},{title:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.f5b))])),_:1}),a[19]||(a[19]=(0,r.Lk)("span",null,"Health Knowledge",-1))])),default:(0,r.k6)((()=>[(0,r.bF)(s,{index:"/health-knowledge/publish"},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.eW)("Publish")]))),_:1}),(0,r.bF)(s,{index:"/health-knowledge/list"},{default:(0,r.k6)((()=>a[21]||(a[21]=[(0,r.eW)("List")]))),_:1})])),_:1}),(0,r.bF)(s,{index:"/user-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.B5R))])),_:1}),a[22]||(a[22]=(0,r.Lk)("span",null,"User Management",-1))])),_:1}),(0,r.bF)(s,{index:"/diet-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.NoT))])),_:1}),a[23]||(a[23]=(0,r.Lk)("span",null,"Diet Management",-1))])),_:1}),(0,r.bF)(s,{index:"/sport-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.mP9))])),_:1}),a[24]||(a[24]=(0,r.Lk)("span",null,"Sports Management",-1))])),_:1})])),_:1})]),(0,r.Lk)("div",Ye,[(0,r.bF)(b,{size:40,src:n.value.avatar},null,8,["src"]),(0,r.Lk)("span",null,(0,g.v_)(n.value.username),1)])])),_:1}),(0,r.Lk)("div",Ze,[a[35]||(a[35]=(0,r.Lk)("div",{class:"pHeader"},[(0,r.Lk)("div",{class:"hTitle"},[(0,r.Lk)("h1",null,"User Management"),(0,r.Lk)("span",{class:"sub-title"},"Manage platform user accounts")])],-1)),(0,r.bF)(C,{class:"umCard"},{header:(0,r.k6)((()=>[(0,r.Lk)("div",ea,[a[27]||(a[27]=(0,r.Lk)("span",null,"User List",-1)),(0,r.bF)(_,{type:"primary",size:"small",href:"/",style:{"text-decoration":"none"}},{default:(0,r.k6)((()=>a[26]||(a[26]=[(0,r.eW)(" Return to registration ")]))),_:1})])])),default:(0,r.k6)((()=>[i.value?((0,r.uX)(),(0,r.CE)("div",aa,[(0,r.bF)(V,{rows:5,animated:""})])):c.value?((0,r.uX)(),(0,r.Wv)(C,{key:1,class:"err"},{default:(0,r.k6)((()=>a[28]||(a[28]=[(0,r.eW)(" Failed to load user list, please try again later. ")]))),_:1})):((0,r.uX)(),(0,r.CE)("div",la,[(0,r.bF)(x,{data:d.value,style:{width:"100%"},"row-key":e=>e.id,"default-expand-all":""},{default:(0,r.k6)((()=>[(0,r.bF)(E,{prop:"id",label:"ID",width:"50"}),(0,r.bF)(E,{prop:"username",label:"Username",width:"100"}),(0,r.bF)(E,{prop:"email",label:"Email",width:"180"}),(0,r.bF)(E,{prop:"phone",label:"Phone",width:"120"}),(0,r.bF)(E,{prop:"user_type",label:"User Type",width:"80"}),(0,r.bF)(E,{prop:"first_name",label:"First Name",width:"80"}),(0,r.bF)(E,{prop:"last_name",label:"Last Name",width:"80"}),(0,r.bF)(E,{label:"Birthday",width:"120"},{default:(0,r.k6)((e=>[(0,r.eW)((0,g.v_)(R(e.row.date_of_birth)),1)])),_:1}),(0,r.bF)(E,{prop:"gender",label:"Gender",width:"60"}),(0,r.bF)(E,{prop:"emergency_contact_name",label:"Emergency Contact",width:"120"}),(0,r.bF)(E,{prop:"emergency_contact_phone",label:"Emergency Contact Phone",width:"120"}),(0,r.bF)(E,{label:"Actions",width:"150"},{default:(0,r.k6)((e=>[(0,r.bF)(P,{size:"small",onClick:a=>y(e.row)},{default:(0,r.k6)((()=>a[29]||(a[29]=[(0,r.eW)("Edit")]))),_:2},1032,["onClick"]),(0,r.bF)(P,{size:"small",type:"danger",onClick:a=>L(e.row.id)},{default:(0,r.k6)((()=>a[30]||(a[30]=[(0,r.eW)("Delete")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","row-key"])]))])),_:1}),(0,r.bF)(H,{modelValue:h.value,"onUpdate:modelValue":a[16]||(a[16]=e=>h.value=e),title:v.value,width:"50%"},{footer:(0,r.k6)((()=>[(0,r.Lk)("span",ta,[(0,r.bF)(P,{onClick:a[15]||(a[15]=e=>h.value=!1)},{default:(0,r.k6)((()=>a[33]||(a[33]=[(0,r.eW)("Cancel")]))),_:1}),(0,r.bF)(P,{type:"primary",onClick:w},{default:(0,r.k6)((()=>a[34]||(a[34]=[(0,r.eW)("Confirm")]))),_:1})])])),default:(0,r.k6)((()=>[(0,r.bF)(K,{model:f.value,"label-width":"180px"},{default:(0,r.k6)((()=>[(0,r.bF)(W,{label:"Username"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value.username=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Email"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.email,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value.email=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Phone"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.phone,"onUpdate:modelValue":a[2]||(a[2]=e=>f.value.phone=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"User Type"},{default:(0,r.k6)((()=>[(0,r.bF)(I,{modelValue:f.value.user_type,"onUpdate:modelValue":a[3]||(a[3]=e=>f.value.user_type=e),placeholder:"Select User Type"},{default:(0,r.k6)((()=>[(0,r.bF)(A,{label:"Admin",value:"admin"}),(0,r.bF)(A,{label:"Elderly",value:"elderly"}),(0,r.bF)(A,{label:"Social Worker",value:"social_worker"})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"First Name"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.first_name,"onUpdate:modelValue":a[4]||(a[4]=e=>f.value.first_name=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Last Name"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.last_name,"onUpdate:modelValue":a[5]||(a[5]=e=>f.value.last_name=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Date of Birth"},{default:(0,r.k6)((()=>[(0,r.bF)(D,{modelValue:f.value.date_of_birth,"onUpdate:modelValue":a[6]||(a[6]=e=>f.value.date_of_birth=e),type:"date",placeholder:"Select Date"},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Gender"},{default:(0,r.k6)((()=>[(0,r.bF)(U,{modelValue:f.value.gender,"onUpdate:modelValue":a[7]||(a[7]=e=>f.value.gender=e)},{default:(0,r.k6)((()=>[(0,r.bF)(T,{label:"male"},{default:(0,r.k6)((()=>a[31]||(a[31]=[(0,r.eW)("Male")]))),_:1}),(0,r.bF)(T,{label:"female"},{default:(0,r.k6)((()=>a[32]||(a[32]=[(0,r.eW)("Female")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Address"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.address,"onUpdate:modelValue":a[8]||(a[8]=e=>f.value.address=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"City"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.city,"onUpdate:modelValue":a[9]||(a[9]=e=>f.value.city=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"State"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.state,"onUpdate:modelValue":a[10]||(a[10]=e=>f.value.state=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Zip Code"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.zip_code,"onUpdate:modelValue":a[11]||(a[11]=e=>f.value.zip_code=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Emergency Contact"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.emergency_contact_name,"onUpdate:modelValue":a[12]||(a[12]=e=>f.value.emergency_contact_name=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Emergency Contact Phone"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.emergency_contact_phone,"onUpdate:modelValue":a[13]||(a[13]=e=>f.value.emergency_contact_phone=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(W,{label:"Allergies"},{default:(0,r.k6)((()=>[(0,r.bF)(S,{modelValue:f.value.allergies,"onUpdate:modelValue":a[14]||(a[14]=e=>f.value.allergies=e),type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])])):((0,r.uX)(),(0,r.CE)("div",ra,[a[37]||(a[37]=(0,r.Lk)("h1",null,"Please log in first",-1)),(0,r.bF)(P,{type:"primary",onClick:o},{default:(0,r.k6)((()=>a[36]||(a[36]=[(0,r.eW)("Go login")]))),_:1})]))}}};const oa=(0,s.A)(na,[["__scopeId","data-v-533a63d3"]]);var sa=oa;const ua={key:0,class:"page"},da={class:"menuWrap"},ia={class:"uInfo"},ca={class:"main"},ka={key:0},ma={key:1,class:"error-message"},ga={key:2},ba={key:0},pa={key:1,class:"error-message"},ha={key:2},va={key:1};var fa={__name:"HealthDataPage",setup(e){const a=(0,k.rd)(),l=(0,b.Pj)(),t=(0,r.EW)((()=>l.getters.isLoggedIn)),n=(0,r.EW)((()=>l.getters.userInfo)),o=()=>{a.push("/")},s=(0,m.KR)("http://localhost:3060/api/homecare/history-data-2"),u=(0,m.KR)([]),d=(0,m.KR)(!0),i=(0,m.KR)(!1),c=(0,m.KR)([]),h=(0,m.KR)(!0),v=(0,m.KR)(!1),f=async()=>{d.value=!0,i.value=!1,h.value=!0,v.value=!1;try{const e=localStorage.getItem("token"),a=await fetch(s.value,{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json();l.success?(u.value=l.bloodPressureData,c.value=l.bloodSugarData):(z.nk.error(l.message||"Failed to get historical data"),i.value=!0,v.value=!0)}catch(e){console.error("An error occurred while getting historical data:",e),z.nk.error("A network error occurred while getting historical data, please try again later"),i.value=!0,v.value=!0}finally{d.value=!1,h.value=!1}},F=e=>{if(!e)return"";const a=new Date(e);return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")} ${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}:${String(a.getSeconds()).padStart(2,"0")}`},_=e=>{if(!e)return"";const a=new Date(e);return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`};return(0,r.sV)((()=>{f()})),(e,a)=>{const l=(0,r.g2)("el-icon"),s=(0,r.g2)("el-menu-item"),k=(0,r.g2)("el-sub-menu"),b=(0,r.g2)("el-menu"),f=(0,r.g2)("el-avatar"),y=(0,r.g2)("el-aside"),w=(0,r.g2)("el-skeleton"),L=(0,r.g2)("el-table-column"),R=(0,r.g2)("el-table"),V=(0,r.g2)("el-card"),C=(0,r.g2)("el-button");return t.value?((0,r.uX)(),(0,r.CE)("div",ua,[(0,r.bF)(y,{width:"220px",class:"side"},{default:(0,r.k6)((()=>[a[8]||(a[8]=(0,r.Lk)("div",{class:"sTitle"},"Smart Home Elderly Care System",-1)),(0,r.Lk)("div",da,[(0,r.bF)(b,{"default-active":"/health-data",class:"el-menu-1",router:!0},{default:(0,r.k6)((()=>[(0,r.bF)(s,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.ODD))])),_:1}),a[0]||(a[0]=(0,r.Lk)("span",null,"System Overview",-1))])),_:1}),(0,r.bF)(s,{index:"/health-data"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.VAG))])),_:1}),a[1]||(a[1]=(0,r.Lk)("span",null,"Health Data Overview",-1))])),_:1}),(0,r.bF)(k,{index:"/health-knowledge"},{title:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.f5b))])),_:1}),a[2]||(a[2]=(0,r.Lk)("span",null,"Health Knowledge",-1))])),default:(0,r.k6)((()=>[(0,r.bF)(s,{index:"/health-knowledge/publish"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("Publish")]))),_:1}),(0,r.bF)(s,{index:"/health-knowledge/list"},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)("List")]))),_:1})])),_:1}),(0,r.bF)(s,{index:"/user-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.B5R))])),_:1}),a[5]||(a[5]=(0,r.Lk)("span",null,"User Management",-1))])),_:1}),(0,r.bF)(s,{index:"/diet-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.NoT))])),_:1}),a[6]||(a[6]=(0,r.Lk)("span",null,"Diet Management",-1))])),_:1}),(0,r.bF)(s,{index:"/sport-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.mP9))])),_:1}),a[7]||(a[7]=(0,r.Lk)("span",null,"Sports Management",-1))])),_:1})])),_:1})]),(0,r.Lk)("div",ia,[(0,r.bF)(f,{size:40,src:n.value.avatar},null,8,["src"]),(0,r.Lk)("span",null,(0,g.v_)(n.value.username),1)])])),_:1}),(0,r.Lk)("div",ca,[a[11]||(a[11]=(0,r.Lk)("div",{class:"pHeader"},[(0,r.Lk)("div",{class:"hTitle"},[(0,r.Lk)("h1",null,"Health Data Management"),(0,r.Lk)("span",{class:"sub-title"},"Manage health data of elderly people")])],-1)),(0,r.bF)(V,{class:"health-data-card"},{header:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("span",null,"Blood Pressure History Data")],-1)]))),default:(0,r.k6)((()=>[d.value?((0,r.uX)(),(0,r.CE)("div",ka,[(0,r.bF)(w,{rows:5,animated:""})])):i.value?((0,r.uX)(),(0,r.CE)("div",ma," Failed to load blood pressure data. Please try again later. ")):((0,r.uX)(),(0,r.CE)("div",ga,[(0,r.bF)(R,{data:u.value,style:{width:"100%"}},{default:(0,r.k6)((()=>[(0,r.bF)(L,{prop:"created_at",label:"Time",width:"160"},{default:(0,r.k6)((e=>[(0,r.eW)((0,g.v_)(F(e.row.created_at)),1)])),_:1}),(0,r.bF)(L,{prop:"user_id",label:"User ID",width:"80"}),(0,r.bF)(L,{prop:"username",label:"Username",width:"100"}),(0,r.bF)(L,{prop:"first_name",label:"First Name",width:"100"}),(0,r.bF)(L,{prop:"last_name",label:"Last Name",width:"100"}),(0,r.bF)(L,{prop:"date_of_birth",label:"Date of Birth",width:"120"},{default:(0,r.k6)((e=>[(0,r.eW)((0,g.v_)(_(e.row.date_of_birth)),1)])),_:1}),(0,r.bF)(L,{prop:"gender",label:"Gender",width:"60"}),(0,r.bF)(L,{prop:"systolic",label:"Systolic",width:"80"}),(0,r.bF)(L,{prop:"diastolic",label:"Diastolic",width:"80"}),(0,r.bF)(L,{prop:"pulse",label:"Pulse",width:"80"})])),_:1},8,["data"])]))])),_:1}),(0,r.bF)(V,{class:"health-data-card"},{header:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("span",null,"Blood Glucose History Data")],-1)]))),default:(0,r.k6)((()=>[h.value?((0,r.uX)(),(0,r.CE)("div",ba,[(0,r.bF)(w,{rows:5,animated:""})])):v.value?((0,r.uX)(),(0,r.CE)("div",pa," Failed to load blood glucose data. Please try again later. ")):((0,r.uX)(),(0,r.CE)("div",ha,[(0,r.bF)(R,{data:c.value,style:{width:"100%"}},{default:(0,r.k6)((()=>[(0,r.bF)(L,{prop:"created_at",label:"Time",width:"160"},{default:(0,r.k6)((e=>[(0,r.eW)((0,g.v_)(F(e.row.created_at)),1)])),_:1}),(0,r.bF)(L,{prop:"user_id",label:"User ID",width:"80"}),(0,r.bF)(L,{prop:"username",label:"Username",width:"100"}),(0,r.bF)(L,{prop:"first_name",label:"First Name",width:"100"}),(0,r.bF)(L,{prop:"last_name",label:"Last Name",width:"100"}),(0,r.bF)(L,{prop:"date_of_birth",label:"Date of Birth",width:"120"},{default:(0,r.k6)((e=>[(0,r.eW)((0,g.v_)(_(e.row.date_of_birth)),1)])),_:1}),(0,r.bF)(L,{prop:"gender",label:"Gender",width:"60"}),(0,r.bF)(L,{prop:"bloodSugar",label:"Blood Sugar",width:"80"})])),_:1},8,["data"])]))])),_:1})])])):((0,r.uX)(),(0,r.CE)("div",va,[a[13]||(a[13]=(0,r.Lk)("h1",null,"Please log in",-1)),(0,r.bF)(C,{type:"primary",onClick:o},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.eW)("Go to Login")]))),_:1})]))}}};const Fa=(0,s.A)(fa,[["__scopeId","data-v-d4669370"]]);var _a=Fa,ya=l(2933),wa=l(9559),La=l(4757);const Ra={key:0,class:"page"},Va={class:"menuWrap"},Ca={key:0,class:"uInfo"},Ea={class:"main"},Pa={key:0},xa={key:2,class:"table-container"},Sa={key:1};var Wa={__name:"DietManagementPage",setup(e){const a=(0,k.rd)(),l=(0,b.Pj)(),t=(0,r.EW)((()=>l.getters.isLoggedIn)),n=(0,r.EW)((()=>l.getters.userInfo)),o=()=>{a.push("/")},s=(0,m.KR)([]),u=(0,m.KR)(!1),d=(0,m.KR)(null);(0,r.sV)((()=>{t.value&&i()}));const i=async()=>{u.value=!0,d.value=null;try{const e=localStorage.getItem("token");if(!e)return d.value="Please log in to view orders.",z.nk.warning(d.value),void(u.value=!1);const a=await O.A.get("http://localhost:3060/api/homecare2/all-orders",{headers:{Authorization:`Bearer ${e}`}});a.data.success?(0,r.dY)((()=>{s.value=a.data.orders})):(d.value=a.data.message||"Failed to fetch all orders",z.nk.error(d.value))}catch(e){console.error("Error fetching all historical orders:",e),e.response&&401===e.response.status?(d.value="Authentication required. Please log in.",z.nk.error(d.value)):(d.value="Network error, please try again later",z.nk.error(d.value))}finally{u.value=!1}},c=e=>{"pending_payment"===e.status?ya.s.confirm(`Are you sure you want to delete order ${e.order_id}?`,"Warning",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then((()=>{h(e.order_id)})).catch((()=>{(0,z.nk)({type:"info",message:"Delete canceled"})})):z.nk.warning('Only orders with status "Pending Payment" can be deleted.')},h=async e=>{try{const a=localStorage.getItem("token"),l=await O.A.delete(`http://localhost:3060/api/homecare2/orders/${e}`,{headers:{Authorization:`Bearer ${a}`}});l.data.success?(z.nk.success(`Order ${e} deleted successfully.`),i()):z.nk.error(l.data.message||"Failed to delete order.")}catch(a){console.error("Error deleting order:",a);let e="Network error, please try again later.";a.response&&a.response.data&&a.response.data.message&&(e=a.response.data.message),z.nk.error(e)}};return(e,a)=>{const l=(0,r.g2)("el-icon"),i=(0,r.g2)("el-menu-item"),k=(0,r.g2)("el-sub-menu"),b=(0,r.g2)("el-menu"),h=(0,r.g2)("el-avatar"),v=(0,r.g2)("el-aside"),f=(0,r.g2)("el-skeleton"),F=(0,r.g2)("el-button"),_=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",null,[t.value?((0,r.uX)(),(0,r.CE)("div",Ra,[(0,r.bF)(v,{width:"220px",class:"side"},{default:(0,r.k6)((()=>[a[8]||(a[8]=(0,r.Lk)("div",{class:"sTitle"},"Smart Home Elderly Care System",-1)),(0,r.Lk)("div",Va,[(0,r.bF)(b,{"default-active":"/diet-management",class:"el-menu-1",router:!0},{default:(0,r.k6)((()=>[(0,r.bF)(i,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.ODD))])),_:1}),a[0]||(a[0]=(0,r.Lk)("span",null,"System Overview",-1))])),_:1}),(0,r.bF)(i,{index:"/health-monitoring"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.VAG))])),_:1}),a[1]||(a[1]=(0,r.Lk)("span",null,"Health Data Overview",-1))])),_:1}),(0,r.bF)(k,{index:"/health-knowledge"},{title:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.f5b))])),_:1}),a[2]||(a[2]=(0,r.Lk)("span",null,"Health Knowledge",-1))])),default:(0,r.k6)((()=>[(0,r.bF)(i,{index:"/health-knowledge/publish"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("Publish")]))),_:1}),(0,r.bF)(i,{index:"/health-knowledge/list"},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)("List")]))),_:1})])),_:1}),(0,r.bF)(i,{index:"/user-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.B5R))])),_:1}),a[5]||(a[5]=(0,r.Lk)("span",null,"User Management",-1))])),_:1}),(0,r.bF)(i,{index:"/diet-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.NoT))])),_:1}),a[6]||(a[6]=(0,r.Lk)("span",null,"Diet Management",-1))])),_:1}),(0,r.bF)(i,{index:"/sport-management"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.mP9))])),_:1}),a[7]||(a[7]=(0,r.Lk)("span",null,"Sports Management",-1))])),_:1})])),_:1})]),n.value?((0,r.uX)(),(0,r.CE)("div",Ca,[(0,r.bF)(h,{size:40,src:n.value.avatar},null,8,["src"]),(0,r.Lk)("span",null,(0,g.v_)(n.value.username),1)])):(0,r.Q3)("",!0)])),_:1}),(0,r.Lk)("div",Ea,[a[11]||(a[11]=(0,r.Lk)("div",{class:"pHeader"},[(0,r.Lk)("div",{class:"hTitle"},[(0,r.Lk)("h1",null,"All Historical Orders"),(0,r.Lk)("span",{class:"sub-title"},"View all past canteen orders")])],-1)),(0,r.bF)(_,{class:"historical-orders-card"},{header:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.Lk)("div",{class:"card-header"},"All Historical Orders",-1)]))),default:(0,r.k6)((()=>[u.value?((0,r.uX)(),(0,r.CE)("div",Pa,[(0,r.bF)(f,{rows:5,animated:""})])):d.value?((0,r.uX)(),(0,r.Wv)((0,m.R1)(wa.KR),{key:1,title:d.value,type:"error","show-icon":""},null,8,["title"])):((0,r.uX)(),(0,r.CE)("div",xa,[(0,r.bF)((0,m.R1)(La.Up),{data:s.value,style:{width:"100%"}},{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(La.o8),{prop:"order_id",label:"Order ID",width:"180"}),(0,r.bF)((0,m.R1)(La.o8),{prop:"username",label:"User",width:"120"}),(0,r.bF)((0,m.R1)(La.o8),{label:"Items"},{default:(0,r.k6)((e=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.row.items,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.dish_id},(0,g.v_)(e.dish_name)+" x "+(0,g.v_)(e.quantity)+" (¥"+(0,g.v_)(e.price?parseFloat(e.price).toFixed(2):"N/A")+") ",1)))),128))])),_:1}),(0,r.bF)((0,m.R1)(La.o8),{prop:"total_amount",label:"Total Amount",width:"120"},{default:(0,r.k6)((e=>[(0,r.eW)(" ¥"+(0,g.v_)(e.row.total_amount?parseFloat(e.row.total_amount).toFixed(2):"N/A"),1)])),_:1}),(0,r.bF)((0,m.R1)(La.o8),{prop:"status",label:"Status",width:"100"}),(0,r.bF)((0,m.R1)(La.o8),{prop:"delivery_address",label:"Delivery Address",width:"180"}),(0,r.bF)((0,m.R1)(La.o8),{prop:"created_at",label:"Order Time",width:"180"}),(0,r.bF)((0,m.R1)(La.o8),{label:"Actions",width:"100"},{default:(0,r.k6)((e=>[(0,r.bF)(F,{type:"danger",size:"small",onClick:a=>c(e.row),disabled:"pending_payment"!==e.row.status},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Delete")]))),_:2},1032,["onClick","disabled"])])),_:1})])),_:1},8,["data"])]))])),_:1})])])):((0,r.uX)(),(0,r.CE)("div",Sa,[a[13]||(a[13]=(0,r.Lk)("h1",null,"Please log in",-1)),(0,r.bF)(F,{type:"primary",onClick:o},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.eW)("Go to Login")]))),_:1})]))])}}};const Aa=(0,s.A)(Wa,[["__scopeId","data-v-5d48a558"]]);var Ia=Aa;const Da={class:"page"},Ta={class:"menuWrap"},Ua={key:0,class:"uInfo"},Ka={class:"main"},Ha={key:0},Xa={key:2,class:"table-container"},$a={key:0},Oa={key:2,class:"table-container"};var Ma={__name:"SportManagementPage",setup(e){const a=(0,b.Pj)(),l=(0,r.EW)((()=>a.getters.userInfo)),t=(0,r.EW)((()=>a.getters.isLoggedIn)),n=(0,m.KR)([]),o=(0,m.KR)(!1),s=(0,m.KR)(null),u=async()=>{o.value=!0,s.value=null;try{const e=localStorage.getItem("token");if(!e)return s.value="Authentication required. Please log in.",z.nk.warning(s.value),void(o.value=!1);const a=await O.A.get("http://localhost:3060/api/homecare2/all-exercise-history",{headers:{Authorization:`Bearer ${e}`}});a.data.success?(0,r.dY)((()=>{n.value=a.data.exerciseHistory})):(s.value=a.data.message||"Failed to fetch exercise history.",z.nk.error(s.value))}catch(e){console.error("Error fetching exercise history:",e),e.response&&401===e.response.status?(s.value="Authentication required. Please log in.",z.nk.error(s.value)):(s.value="Network error, failed to load exercise history.",z.nk.error(s.value))}finally{o.value=!1}},d=(0,m.KR)([]),i=(0,m.KR)(!1),c=(0,m.KR)(null),k=async()=>{i.value=!0,c.value=null;try{const e=localStorage.getItem("token");if(!e)return c.value="Authentication required. Please log in.",z.nk.warning(c.value),void(i.value=!1);const a=await O.A.get("http://localhost:3060/api/homecare2/all-booking-history",{headers:{Authorization:`Bearer ${e}`}});a.data.success?(0,r.dY)((()=>{d.value=a.data.bookingHistory})):(c.value=a.data.message||"Failed to fetch booking history.",z.nk.error(c.value))}catch(e){console.error("Error fetching booking history:",e),e.response&&401===e.response.status?(c.value="Authentication required. Please log in.",z.nk.error(c.value)):(c.value="Network error, failed to load booking history.",z.nk.error(c.value))}finally{i.value=!1}},h=async e=>{try{await ya.s.confirm("Are you sure you want to delete the booking?","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"});const a=localStorage.getItem("token");if(!a)return void z.nk.warning("Authentication required. Please log in.");const l=await O.A.delete(`http://localhost:3060/api/homecare2/booking/${e.booking_id}`,{headers:{Authorization:`Bearer ${a}`}});l.data.success?(z.nk.success("Booking deleted successfully."),k()):z.nk.error(l.data.message||"Failed to delete booking.")}catch(a){"cancel"!==a&&(console.error("Error deleting booking:",a),a.response&&401===a.response.status?z.nk.error("Authentication required. Please log in."):a.response&&403===a.response.status?z.nk.error("Access denied. You do not have permission to delete this booking."):z.nk.error("Network error or failed to delete booking."))}};return(0,r.sV)((()=>{t.value&&(u(),k())})),(e,a)=>{const t=(0,r.g2)("el-icon"),u=(0,r.g2)("el-menu-item"),k=(0,r.g2)("el-sub-menu"),b=(0,r.g2)("el-menu"),v=(0,r.g2)("el-avatar"),f=(0,r.g2)("el-aside"),F=(0,r.g2)("el-skeleton"),_=(0,r.g2)("el-alert"),y=(0,r.g2)("el-table-column"),w=(0,r.g2)("el-table"),L=(0,r.g2)("el-card"),R=(0,r.g2)("el-button");return(0,r.uX)(),(0,r.CE)("div",Da,[(0,r.bF)(f,{width:"220px",class:"side"},{default:(0,r.k6)((()=>[a[8]||(a[8]=(0,r.Lk)("div",{class:"sTitle"},"Smart Home Elderly Care System",-1)),(0,r.Lk)("div",Ta,[(0,r.bF)(b,{"default-active":"/sport-management",class:"el-menu-1",router:!0},{default:(0,r.k6)((()=>[(0,r.bF)(u,{index:"/home"},{default:(0,r.k6)((()=>[(0,r.bF)(t,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.ODD))])),_:1}),a[0]||(a[0]=(0,r.Lk)("span",null,"System Overview",-1))])),_:1}),(0,r.bF)(u,{index:"/health-data"},{default:(0,r.k6)((()=>[(0,r.bF)(t,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.VAG))])),_:1}),a[1]||(a[1]=(0,r.Lk)("span",null,"Health Data Overview",-1))])),_:1}),(0,r.bF)(k,{index:"/health-knowledge"},{title:(0,r.k6)((()=>[(0,r.bF)(t,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.f5b))])),_:1}),a[2]||(a[2]=(0,r.Lk)("span",null,"Health Knowledge",-1))])),default:(0,r.k6)((()=>[(0,r.bF)(u,{index:"/health-knowledge/publish"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("Publish")]))),_:1}),(0,r.bF)(u,{index:"/health-knowledge/list"},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)("List")]))),_:1})])),_:1}),(0,r.bF)(u,{index:"/user-management"},{default:(0,r.k6)((()=>[(0,r.bF)(t,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.B5R))])),_:1}),a[5]||(a[5]=(0,r.Lk)("span",null,"User Management",-1))])),_:1}),(0,r.bF)(u,{index:"/diet-management"},{default:(0,r.k6)((()=>[(0,r.bF)(t,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.NoT))])),_:1}),a[6]||(a[6]=(0,r.Lk)("span",null,"Diet Management",-1))])),_:1}),(0,r.bF)(u,{index:"/sport-management"},{default:(0,r.k6)((()=>[(0,r.bF)(t,null,{default:(0,r.k6)((()=>[(0,r.bF)((0,m.R1)(p.mP9))])),_:1}),a[7]||(a[7]=(0,r.Lk)("span",null,"Sports Management",-1))])),_:1})])),_:1})]),l.value?((0,r.uX)(),(0,r.CE)("div",Ua,[(0,r.bF)(v,{size:40,src:l.value.avatar},null,8,["src"]),(0,r.Lk)("span",null,(0,g.v_)(l.value.username),1)])):(0,r.Q3)("",!0)])),_:1}),(0,r.Lk)("div",Ka,[a[12]||(a[12]=(0,r.Lk)("div",{class:"pHeader"},[(0,r.Lk)("div",{class:"hTitle"},[(0,r.Lk)("h1",null,"Sports Management"),(0,r.Lk)("span",{class:"sub-title"},"Track your workouts and book coaching sessions")])],-1)),(0,r.bF)(L,{class:"exercise-history-card"},{header:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.Lk)("div",{class:"card-header"},"Exercise History",-1)]))),default:(0,r.k6)((()=>[o.value?((0,r.uX)(),(0,r.CE)("div",Ha,[(0,r.bF)(F,{rows:5,animated:""})])):s.value?((0,r.uX)(),(0,r.Wv)(_,{key:1,title:s.value,type:"error","show-icon":""},null,8,["title"])):((0,r.uX)(),(0,r.CE)("div",Xa,[(0,r.bF)(w,{data:n.value,style:{width:"100%"}},{default:(0,r.k6)((()=>[(0,r.bF)(y,{prop:"user_id",label:"User ID",width:"80"}),(0,r.bF)(y,{prop:"exercise_type",label:"Exercise Type"}),(0,r.bF)(y,{prop:"duration",label:"Duration (minutes)",width:"150"}),(0,r.bF)(y,{prop:"notes",label:"Notes"}),(0,r.bF)(y,{prop:"checkin_time",label:"Check-in Time",width:"180"})])),_:1},8,["data"])]))])),_:1}),(0,r.bF)(L,{class:"booking-history-card"},{header:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.Lk)("div",{class:"card-header"},"Coach Booking History",-1)]))),default:(0,r.k6)((()=>[i.value?((0,r.uX)(),(0,r.CE)("div",$a,[(0,r.bF)(F,{rows:5,animated:""})])):c.value?((0,r.uX)(),(0,r.Wv)(_,{key:1,title:c.value,type:"error","show-icon":""},null,8,["title"])):((0,r.uX)(),(0,r.CE)("div",Oa,[(0,r.bF)(w,{data:d.value,style:{width:"100%"}},{default:(0,r.k6)((()=>[(0,r.bF)(y,{prop:"user_id",label:"User ID",width:"80"}),(0,r.bF)(y,{prop:"coach_name",label:"Coach Name"}),(0,r.bF)(y,{prop:"coach_specialty",label:"Specialty"}),(0,r.bF)(y,{prop:"booking_date",label:"Date",width:"120"}),(0,r.bF)(y,{prop:"booking_time",label:"Time",width:"100"}),(0,r.bF)(y,{prop:"notes",label:"Notes"}),(0,r.bF)(y,{prop:"status",label:"Status",width:"100"}),(0,r.bF)(y,{prop:"created_at",label:"Booking Time",width:"180"}),(0,r.bF)(y,{label:"Actions",width:"100"},{default:(0,r.k6)((e=>[(0,r.bF)(R,{type:"danger",size:"small",onClick:a=>h(e.row)},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)("Delete")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]))])),_:1})])])}}};const Ba=(0,s.A)(Ma,[["__scopeId","data-v-646d2b46"]]);var Na=Ba,qa=(0,b.y$)({state:{isLoggedIn:!1,userInfo:null,token:null},mutations:{setLoginStatus(e,a){e.isLoggedIn=a},setUserInfo(e,a){e.userInfo=a},setToken(e,a){e.token=a},clearUserInfo(e){e.userInfo=null,e.token=null}},actions:{login({commit:e},{userInfo:a,token:l}){e("setLoginStatus",!0),e("setUserInfo",a),e("setToken",l),localStorage.setItem("token",l)},logout({commit:e}){e("setLoginStatus",!1),e("clearUserInfo"),localStorage.removeItem("token")},checkLoginStatus({commit:e}){const a=localStorage.getItem("token");a&&(e("setLoginStatus",!0),e("setToken",a))}},getters:{isLoggedIn:e=>e.isLoggedIn,userInfo:e=>e.userInfo,token:e=>e.token}});const za=[{path:"/",name:"LoginPage",component:te},{path:"/home",name:"HomePage",component:D,meta:{requiresAuth:!0}},{path:"/health-knowledge/list",name:"HealthKnowledgePage",component:he,meta:{requiresAuth:!0}},{path:"/health-knowledge-detail/:health_knowledge_id",name:"HealthKnowledgeDetail",component:Se,meta:{requiresAuth:!0}},{path:"/health-knowledge/publish",name:"HealthKnowledgePublih",component:He,meta:{requiresAuth:!0}},{path:"/health-knowledge-edit/:health_knowledge_id",name:"HealthKnowledgeEdit",component:Ge,meta:{requiresAuth:!0}},{path:"/user-management",name:"UsersManagementPage",component:sa,meta:{requiresAuth:!0}},{path:"/health-data",name:"HealthDataPage",component:_a,meta:{requiresAuth:!0}},{path:"/diet-management",name:"DietManagementPage",component:Ia,meta:{requiresAuth:!0}},{path:"/sport-management",name:"SportManagementPage",component:Na,meta:{requiresAuth:!0}}],ja=(0,k.aE)({history:(0,k.LA)(),routes:za});ja.beforeEach(((e,a,l)=>{qa.dispatch("checkLoginStatus"),e.meta.requiresAuth&&!qa.getters.isLoggedIn?l("/"):l()}));var Ga=ja;const Qa=(0,t.Ef)(i);Qa.use(c.A),Qa.use(Ga),Qa.use(qa),Qa.mount("#app")}},a={};function l(t){var r=a[t];if(void 0!==r)return r.exports;var n=a[t]={exports:{}};return e[t].call(n.exports,n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(a,t,r,n){if(!t){var o=1/0;for(i=0;i<e.length;i++){t=e[i][0],r=e[i][1],n=e[i][2];for(var s=!0,u=0;u<t.length;u++)(!1&n||o>=n)&&Object.keys(l.O).every((function(e){return l.O[e](t[u])}))?t.splice(u--,1):(s=!1,n<o&&(o=n));if(s){e.splice(i--,1);var d=r();void 0!==d&&(a=d)}}return a}n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[t,r,n]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p=""}(),function(){var e={524:0};l.O.j=function(a){return 0===e[a]};var a=function(a,t){var r,n,o=t[0],s=t[1],u=t[2],d=0;if(o.some((function(a){return 0!==e[a]}))){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);if(u)var i=u(l)}for(a&&a(t);d<o.length;d++)n=o[d],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(i)},t=self["webpackChunkadminside"]=self["webpackChunkadminside"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[504],(function(){return l(9312)}));t=l.O(t)})();
//# sourceMappingURL=app.2db476a4.js.map